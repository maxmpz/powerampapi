<?xml version="1.0" encoding="utf-8"?>
<!--
Copyright (C) 2010-2023 Maksim Petrov

Redistribution and use in source and binary forms, with or without
modification, are permitted for themes, skins, widgets, plugins, applications and other software
which communicate with Poweramp music player application on Android platform.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
``AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE FOUNDATION OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
-->

<resources xmlns:android="http://schemas.android.com/apk/res/android" xmlns:tools="http://schemas.android.com/tools">
	<style name="TopContainer">
		<item name="android:id">@+id/top_container</item>
		
		<!-- NOTE: these durations affect nav scene animations for everything, except the list content itself. List has own anim durations -->
		<!-- NOTE: attributes from TopNavBehavior are applied here, as TopContainer uses TopNavBehavior internally -->
		
		<!-- Applied for top views animation between lib, eq, search. Not applied to in-list transition.
		  By default is 0 for fast nav changes.
		  See also animMainExitTime which is used for anims between main and other screens --> 
		<item name="animTime">0</item>
	
		<!-- Applied for search panel, when going to/from deep search results -->
		<item name="forcedAnimTime">250</item>
		
		<item name="playStateAnimTime">320</item>

		<!-- Applied for nav animation from other screens into AA. Not applied to in-list transition -->
		<!-- NOTE: preferable sync with NavbarExtension twoLineEnterAnimTime -->
		<item name="animMainEnterTime">500</item>

		<!-- Applied for nav animation from AA to other screens. Not applied to in-list transition -->
		<item name="animMainExitTime">0</item>
		
		<item name="stateAnimTime">250</item>
		
		<item name="visAnimTime">320</item>
		<!-- NOTE: tempUITime is not set here anymore, instead it's now defined by user option -->
		
		<!-- NOTE: this is ignored, if animTime/animMainExitTime is set to 0. 
		  	 Also, LARGE values apply for list => no list transition, which is currently only to Eq 
			 For other list transitions, list takes control over blur animation duration (it's synced to list transition duration),
			 and thus, if this time is aaBlurExitAnimTime, it's overridden by list, if aaBlurExitAnimTime is small, it may end animate befor
			 list takes control
		-->
		<item name="aaBlurExitAnimTime">150</item>
		<item name="visEnterAnimTime">500</item>
		<item name="visExitAnimTime">100</item>
		<item name="aaEnterAnimTime">250</item>
		
		<!-- The time new image blur animates over placeholder. Larger times (>~250) may be overridden by logic which ensures image is properly rendered -->
		<item name="aaBlurUpdateAnimTime">50</item>
		<item name="aaBlurLongerUpdateAnimTime">250</item>
		<item name="aaBlurNoAAToAAAnimTime">200</item>
		
		<!-- Needed for Android 10+ and small Android navbar line. That line requires slight offset, so our paddings look fine and consinstent around it.
		     Bassically we need to offset inset by our navbar bottom margin (normal margin, not overlap_navbar_offset).   
		     TopContainer will try to adjust bottom inset when needed (Android 10+, only when small line-navbar is visible) -->
		<item name="reduceBottomInset">@dimen/Navbar_normal_marginB</item>
		
		<item name="android:paddingBottom">0dp</item>
		<item name="android:paddingLeft">0dp</item>
		<item name="android:paddingRight">0dp</item>
		<item name="android:paddingTop">0dp</item>
		<item name="enableStateAnim">true</item>
		<item name="android:layout_width">match_parent</item>
		<item name="android:layout_height">match_parent</item>
		<item name="android:clipToPadding">false</item>
		<item name="android:clipChildren">false</item>
	</style>
	
	<style name="TopMilk">
		<item name="android:id">@+id/milk</item>
		<item name="android:layout_width">match_parent</item>
		<item name="android:layout_height">match_parent</item>
		<item name="bgColor">#000</item><!-- Milk visualization bg color - most presets support only black -->
		<!-- NOTE: this is basically main background color for the application, as Milk surface is used as background.
			 NOTE: colorAABgColor is also used by lock screen, thus, don't override color just here, instead, override colorAABgColor -->
		<item name="aaBgColor">?colorAABgColor</item>
		
		<item name="aaBlurLevel">5</item><!-- 5. NOTE: overridden by user preferences -->
		<item name="aaBlurSaturation">1.5</item><!-- 1.5. NOTE: overridden by user preferences -->
		<item name="aaBlurScaleSize">32</item><!-- 32. NOTE: overridden by user preferences -->
		<item name="aaBlurIntensity">1</item><!-- 1. NOTE: overridden by user preferences -->
	</style>
	
	<style name="TopListWidget">
		<item name="android:layout_width">match_parent</item>
		<item name="android:layout_height">match_parent</item>
		
		<!-- NOTE: offsetWindowInsets=statusBar below defines additional paddingTop matching status bar size -->
		
		<item name="android:clipToPadding">false</item>
		<item name="android:clipChildren">false</item>
		
		<item name="popupEnterAnimTime">400</item>
		<item name="popupExitAnimTime">200</item><!-- Sync with drawable/item_bg exitFadeDuration If this is increased, tune activity_start_click_delay as well, esp. on low-end devices. -->
		
		<item name="preferredAAAnimTime">350</item>
		
		<item name="moveableToolbar">@+id/navbar</item>
		<item name="moveableToolbarExtraStates">false</item>
		<item name="moveableToolbarAnchor">bottom</item><!-- NOTE: Poweramp can make this bottomFixed if bottom is here and user selectes static navbar in settings -->

		<item name="bottomReservedSpace">@+id/navbar_bounds_2lines_size</item><!-- Should be ~ navbar height (in expanded form) + all its margins -->
		<item name="bottomReservedSpace2">@+id/navbar_bounds_3lines_size</item><!-- Should be ~ navbar height (in expanded form) + all its margins -->
		<item name="selectionBottomReservedExtraSpace">60dp</item><!-- Added to bottomReservedSpace to match ~ selection bar height + all its margins -->

		<item name="listMilkMode">mainAA|list|lyrics</item>
		<item name="listScroller">@+id/list_scroller</item>
		<item name="listIndexer">@+id/list_indexer</item>
		<item name="listMilkAA">@+id/milk</item>
		<item name="menuPlaceholder">@+id/menu_placeholder</item>
		<item name="listSubstyle">@style/ListSubstyle2</item>
		
		<item name="offsetWindowInsets">statusBar|navigationBar</item><!-- NOTE: sync with TopAABounds2 -->
	</style>
	
	<style name="ListSubstyleBase2">
		<item name="addStatusBarHeightToHeaders">true</item>

		<!-- NOTE: textHeaderSize, topTextHeaderSize, humanGridItemExtraSpace, humanGridZoomedItemExtraSpace are defined in the main theme
		     and propagated here. They can be overridden via main theme override, e.g. for OptionNoHeaderButtons -->

		<!-- As bottom toolbar attached to the bottom/navbar, this height also defines padding between buttons and bottom/navbar -->
		<item name="bottomToolbarSize">44dp</item>
		<!-- This is important to keep bottom toolbar over the items in the list -->
		<item name="bottomToolbarZ">?bottom_toolbar_elevation</item>

		<item name="maxFontScaleForCompact">1.3</item>

		<item name="separatorSize">32dp</item>
		<item name="searchHistoryItemSize">@dimen/searchHistoryItemSize</item>
		
		<!-- This is minumum space on the bottom AA layout tries to maintain. Usually in portrait orientation there is enough space for other controls, but
		     for split screen mode AA takes whole screen and there is no room for controls.
		     aaMarginBottom forces AA to be keep some space
		     NOTE: aaMinSize is still honored and takes priority over this
		     NOTE: overridden in default-styles-alt.xml -->
		<item name="aaMarginBottom">@dimen/ListSubstyleBase2_aaMarginBottom</item><!-- 200dp, larger on large screens -->
		<item name="aaMinSize">130sp</item><!-- ~ 3 lines of text -->
		<!-- Starting from this aspect of the available item space we want to make AA image fill whole area, not being scaled
		     down square image -->
		<item name="altAaLayoutRatio">1.85</item>
		
		<item name="itemSize">96dp</item>
		<item name="itemSizeZoomed">137dp</item>
		
		<!-- NOTE: small item layouts use sp to better fit user scalable text inside. 
		     This is needed due to the tight paddings there and as compact (but still fitting all text) height as possible --> 
		<item name="itemSizeSmall">56.36sp</item><!-- 62dp normalized -->
		<item name="itemSizeSmallNoAA">49.09sp</item><!-- 54dp normalized -->
		<item name="itemSize1SmallNoAA">43.64sp</item><!-- 48dp normalized -->
		<item name="itemSize1SmallNoAAExtraSmall">34.55sp</item><!-- 38dp normalized -->
		
		<item name="textItemSize">64dp</item>
		<item name="compactTextItemSize">52dp</item>
		
		<item name="allTracksSubheadSize">88dp</item><!-- Size of all-tracks subheader, e.g. Artists/Albums all songs -->
		<item name="metaSubheadSize">24dp</item><!-- Size of meta subheader, e.g. for any Files --><!-- Not used ATM -->

		<item name="headerStretchyImage">@+id/aa_image</item>
		
		<item name="pageAnimTime">250</item><!-- NOTE: also see styles-navbar.xml => twoLineEnterAnimTime, which should be synced with this -->
		<item name="aaToTopLibAnimTime">250</item>
		<item name="topLibToAAAnimTime">250</item>
		<item name="libSearchAnimTime">0</item>
		<item name="aaToSearchAnimTime">0</item>
		<item name="searchToAAAnimTime">250</item>

		<item name="aaToLyricsAnimTime">250</item>
		<item name="lyricsToAAAnimTime">150</item>

		<item name="aaPosAnimTime">550</item>
		<item name="aaPosSettleAnimTime">650</item>
	</style>
	<style name="ListSubstyle2" parent="ListSubstyleBase2">
	</style>
	
	<!-- Keeping legacy styles for the old skins -->
	<!-- @Deprecated -->
	<style name="ListSubstyleBase" parent="ListSubstyleBase2">
		<item name="aaItemRatio">100%</item>
		<item name="aaMarginBottom">@null</item>
	</style>
	<!-- @Deprecated -->
	<style name="ListSubstyle" parent="ListSubstyleBase">
	</style>

	<style name="TopWaveseekLayoutBase">
		<item name="android:id">@+id/waveseek_layout</item>
		<item name="android:clickable">true</item><!-- Clickable to avoid touching trough it and moving AA/List -->
		<item name="android:focusable">false</item><!-- Avoid focusing as it does nothing -->
		<item name="android:clipToPadding">false</item>
		<item name="android:clipChildren">false</item>
	</style>
	
	<style name="TopWaveseekLayout" parent="TopWaveseekLayoutBase">
		<item name="android:layout_width">match_parent</item>
		<item name="layout_attachTop">@+id/sub_aa_buttons</item>
		<!-- NOTE: attaching to bottom inset + NavbarBounds_height, instead of attaching to meta_info_layout, as meta_info_layout can be GONE in some scenes, 
		  causing waveseek jumps (waveseek itself has no scene params, thus, not scene-animated) -->
		
		<item name="layout_attachBottom">@id/navbar_bounds</item>
		<item name="android:layout_marginBottom">24dp</item><!-- Reserve space for meta info -->
		
		<item name="android:paddingTop">@dimen/TopWaveseekLayout_paddingTop</item>
	</style>
	<style name="TopWaveseekLayout_scene_lib">
		<item name="recalcChildren">on_start</item>
		<item name="scale">0.75</item>		
		<item name="android:visibility">gone</item> 
	</style>
	<style name="TopWaveseekLayout_scenes_playing">
		<item name="recalcChildren">on_start</item>
		<item name="android:visibility">visible</item>
		<item name="android:alpha">1</item>
	</style>
	<style name="TopWaveseekLayout_scenes_invisible">
		<item name="recalcChildren">on_start</item>
		<item name="scale">0.75</item>
		<item name="android:visibility">gone</item>
	</style>

		
	<style name="TopWaveseekBase">
		<item name="android:id">@+id/waveseek</item>
		<item name="android:layout_width">match_parent</item>
		<item name="android:layout_height">match_parent</item>
		<item name="android:layout_gravity">center_vertical</item>
		<item name="android:paddingLeft">8dp</item>
		<item name="android:paddingRight">8dp</item>
		<item name="minBarHeight">10dp</item>
		<item name="layout_maxHeight">@dimen/TopWaveseek_maxHeight</item><!-- 150dp -->
		<item name="fadeSidebars">true</item>
		<item name="cursorPosition">50%</item>
		<item name="divisorSize">2dp</item>
		<item name="barWidth">auto</item>
		<item name="numBars">100</item>
		<item name="barSpacing">1.25dp</item>
		<item name="barBitmap">?waveseek_bar</item>
		<item name="elapsedBarBitmap">?waveseek_elapsedbar</item>
		<item name="android:background">@drawable/focusable_bg</item><!-- Empty for Android 8+ -->
		<item name="barTint">?colorWaveseekTint</item><!-- Disabled by default -->
	</style>
	<style name="TopWaveseek" parent="TopWaveseekBase"></style>

	<style name="TopWaveseekStatic" parent="TopWaveseek">
		<!-- <item name="layout_maxHeight">150dp</item> -->
		<item name="layout_maxHeight">@dimen/TopWaveseek_maxHeight</item><!-- 150dp -->
		<item name="waveLayout">fixed</item>
		<item name="numBars">60</item>
		<item name="barSpacing">0.5dp</item>
		<item name="cursorBgFastTracking">true</item>
	</style>
	
	
	
	<style name="TopWaveseekCursor">
		<item name="android:id">@id/waveseek_cursor</item>
		<item name="android:background">@drawable/waveseek_cursor</item>
		<item name="android:layout_width">1.5dp</item>
		<item name="android:layout_height">match_parent</item>
		<item name="android:alpha">0</item>
		<item name="android:scaleX">0.55</item>
		<item name="android:scaleY">0.55</item>
	</style>
	<style name="TopWaveseekCursor_state_waveseek_pressed">
		<item name="android:scaleY">1</item>
		<item name="android:scaleX">1</item>
		<item name="android:alpha">1</item>
	</style>
	
	<style name="TopTrackElapsed">
		<item name="android:id">@+id/track_elapsed</item>
		<item name="android:layout_gravity">center_vertical</item><!-- View gravity -->
		<item name="android:gravity">center</item><!-- Text gravity -->
		<item name="android:clipToPadding">false</item>
		<item name="noBreak">true</item><!-- Avoid breaking as we may optimize layout and won't expand it on elapsed text change -->
		
		<item name="android:layout_width">wrap_content</item>
		<item name="android:layout_height">@dimen/TopTrackElapsedDuration_height</item><!-- Match pause button height in state_playing -->
		<item name="layout_attachRight">@+id/play</item>
		<item name="android:layout_marginRight">1dp</item>
		
		<item name="android:paddingLeft">@dimen/TopTrackElapsed_paddingLR</item>
		<item name="android:paddingRight">@dimen/TopTrackElapsed_paddingLR</item>
		<item name="android:ellipsize">none</item>
		<item name="android:background">@drawable/ripple_inverse_rounded_small_labels</item>
		<item name="android:hapticFeedbackEnabled">true</item>
		<item name="android:longClickable">true</item>
		<item name="android:maxLines">1</item>
		<item name="android:textAppearance">?TopTrackElapsedDuration_Text</item>
		<item name="android:textColor">?android:textColorPrimaryInverse</item>
		<item name="relayoutInTransition">true</item>
	</style>
	<style name="TopTrackElapsedDuration_Text" parent="TextAppearance.AppCompat">
		<item name="android:textSize">14dp</item>
	</style>
	<style name="TopTrackElapsed_scene_playing">
		<item name="recalcChildren">on_start</item><!-- Reduces jump due to the text relayout -->
		<item name="android:layout_gravity">center_vertical</item>
		<item name="android:layout_width">wrap_content</item>
		<item name="android:layout_height">@dimen/TopTrackElapsedDuration_height</item><!-- Match pause button height in state_playing -->
		<item name="layout_attachRight">@+id/pause</item>
		<item name="android:layout_marginRight">@dimen/TopTrackElapsedDuration_marginSide</item>
	</style>
	<style name="TopTrackElapsed_state_seeking">
		<item name="android:scaleX">1.25</item>
		<item name="android:scaleY">1.25</item>
	</style>
	
	<style name="TopTrackDuration">
		<item name="android:id">@+id/track_duration</item>
		<item name="android:layout_gravity">center_vertical</item><!-- View gravity -->
		<item name="android:gravity">center_vertical</item><!-- Text gravity -->
		<item name="android:layout_width">wrap_content</item>
		<item name="android:layout_height">@dimen/TopTrackElapsedDuration_height</item><!-- Match pause button height in state_playing -->
		<item name="layout_attachLeft">@+id/play</item>
		<item name="android:layout_marginLeft">1dp</item>
		<item name="android:paddingLeft">@dimen/TopTrackElapsed_paddingLR</item>
		<item name="android:paddingRight">@dimen/TopTrackElapsed_paddingLR</item>
		<item name="android:drawablePadding">-8dp</item><!-- Should match drawablePaddingStart -->
		<item name="drawableWidth">24dp</item>
		<item name="drawableHeight">24dp</item>
		<item name="drawablePaddingStart">8dp</item><!-- Should match drawablePadding -->
		<item name="android:ellipsize">none</item>
		<item name="android:background">@drawable/inverse_rounded_small_labels</item>
		<item name="android:textColor">?android:textColorPrimaryInverse</item>
		<item name="android:maxLines">1</item>
		<item name="android:textAppearance">?TopTrackElapsedDuration_Text</item><!-- NOTE: shares it with TopTrackElapsed -->
		<item name="drawableTint">?colorIconInverse</item>
		<item name="android:importantForAccessibility">yes</item>
		<item name="relayoutInTransition">true</item>
	</style>
	<style name="TopTrackDuration_scene_playing">
		<item name="recalcChildren">on_start</item>
		<item name="android:layout_gravity">center_vertical</item>
		<item name="android:layout_width">wrap_content</item>
		<item name="android:layout_height">@dimen/TopTrackElapsedDuration_height</item><!-- Match pause button height in state_playing -->
		<item name="layout_attachLeft">@+id/pause</item>
		<item name="android:layout_marginLeft">@dimen/TopTrackElapsedDuration_marginSide</item>
	</style>
	<style name="TopTrackDuration_state_seeking">
		<item name="android:scaleX">1.25</item>
		<item name="android:scaleY">1.25</item>
	</style>
		
	<style name="TopPlayPauseBehind">
		<item name="android:id">@+id/play_pause_behind</item>
		<item name="android:layout_width">@dimen/TopPlayPauseBehind_size</item><!-- REVISIT: need smaller size for some screens like Nexus 4 --> 
		<item name="android:layout_height">@dimen/TopPlayPauseBehind_size</item>
		<item name="android:layout_gravity">center</item>
		<item name="drawableOnly">true</item>
		<item name="android:clickable">true</item>
		<item name="android:focusable">false</item><!-- Don't focus on this as this is touch-only control -->
		<item name="android:longClickable">true</item>
		<item name="busId">@id/bus_player_cmd</item>
		<item name="msgId">@id/cmd_player_toggle_playing</item>
		<item name="longPressMsgId">@id/cmd_player_stop_playing</item>
	</style>
	
	<style name="TopPause">
		<item name="android:id">@+id/pause</item>
		<item name="android:layout_width">28dp</item>
		<item name="android:layout_height">28dp</item><!-- NOTE: some intermediate size, so we animate to it with some zoom -->
		<item name="android:layout_gravity">center</item>
		<item name="android:scaleX">1.75</item>
		<item name="android:scaleY">1.75</item>
		<item name="android:visibility">invisible</item>
		<item name="drawableOnly">true</item>
		<item name="android:clickable">true</item>
		<item name="android:focusable">true</item>
		<item name="android:focusableInTouchMode">false</item>
		<item name="android:longClickable">true</item>
		<item name="android:background">?colorBgInverse</item>
		<item name="android:drawable">?pause_small_narrow</item>
		<item name="drawableTint">?colorIconInverse</item>
		<item name="drawableWidth">24dp</item>
		<item name="drawableHeight">24dp</item>
		<item name="drawablePosition">forceGravity</item>
		<item name="android:gravity">center</item>
		<item name="busId">@id/bus_player_cmd</item>
		<item name="msgId">@id/cmd_player_toggle_playing</item>
		<item name="longPressMsgId">@id/cmd_player_stop_playing</item>
		<item name="android:contentDescription">@string/pause</item>
		<item name="deripple">true</item><!-- Remove duplicated RippleDrawables for broken skins -->
	</style>
	<style name="TopPause_scene_playing">
		<item name="recalcChildren">on_start</item>
		<item name="android:layout_width">@dimen/TopPause_scene_playing_width</item>
		<item name="android:layout_height">@dimen/TopPause_scene_playing_height</item><!-- Match elasped/duration -->
		<item name="android:layout_gravity">center</item>
		<item name="scale">1</item>		
		<item name="android:visibility">visible</item>
		<item name="jumpVisibility">true</item>
	</style>
	<style name="TopPause_state_seeking">
		<item name="android:alpha">0</item>
	</style>
			
	<!-- NOTE: no point in ripple animation (animOnClick=true) as we transition play button quickly for animation to be noticeable -->
	<!-- NOTE: avoiding overdraw and extra dimens with using single auto-scaled image + ripple -->
	<style name="TopPlay">
		<item name="android:id">@+id/play</item>
		<item name="layout_maxWidth">@dimen/TopPlay_maxSize</item>
		<item name="layout_maxHeight">@dimen/TopPlay_maxSize</item>
		<item name="android:layout_height">match_parent</item>
		<item name="layout_matchDimension">widthToHeight</item>
		
		<item name="android:layout_gravity">center</item>
		<item name="android:clickable">true</item>
		<item name="android:focusable">true</item>
		<item name="android:focusableInTouchMode">false</item>
		<item name="android:longClickable">true</item>
		<item name="drawableOnly">true</item>
		<item name="android:gravity">fill</item>
		<item name="android:drawable">?main_play</item>
		<item name="android:minWidth">20dp</item>
		<item name="android:minHeight">20dp</item>
		<item name="busId">@id/bus_player_cmd</item>
		<item name="msgId">@id/cmd_player_toggle_playing</item>
		<item name="longPressMsgId">@id/cmd_player_stop_playing</item>
		<item name="android:contentDescription">@string/play</item>
		<item name="deripple">true</item><!-- Remove duplicated RippleDrawables for broken skins -->
	</style>
	<style name="TopPlay_scene_playing">
		<item name="recalcChildren">on_end</item>
		<item name="android:layout_width">50dp</item><!-- REVISIT: dimen? -->
		<item name="android:layout_height">50dp</item>
		<item name="android:layout_gravity">center</item>
		<item name="android:visibility">invisible</item>
		<item name="scale">0.75</item>
	</style>
	<style name="TopPlay_state_seeking">
		<item name="android:alpha">0</item>
	</style>
	
	<!-- Default drawable size is 40dp -->
	<style name="TopSmallButton">
		<!-- NOTE: setting layout_maxWidth/layout_maxHeight, android:layout_height=match_parent, layout_matchDimension=widthToHeight 
		     makes buttons kind of scallable for smaller parent, e.g. when we're shrinked due to the split window mode or due to the other window resize -->
		<item name="layout_maxWidth">@dimen/TopSmallButton_size</item>
		<item name="layout_maxHeight">@dimen/TopSmallButton_size</item>
		<item name="android:layout_height">match_parent</item>
		<item name="android:layout_width">0dp</item><!-- Provide some width => important for scenes as without layout_width scene won't apply layout params -->
		<item name="layout_matchDimension">widthToHeight</item>
		
		<item name="android:layout_gravity">center_vertical</item>
		<item name="android:clickable">true</item>
		<item name="android:focusable">true</item>
		<item name="android:focusableInTouchMode">false</item>
		<item name="animOnClick">true</item>
		<item name="android:gravity">fill</item><!-- Force drawable to fill dimensions -->
		<item name="drawableOnly">true</item>
		<item name="deripple">true</item><!-- Remove duplicated RippleDrawables for broken skins -->
	</style>
	
	<!-- Pro themes extra styles -->
		
	<!-- Default drawable size is 64dp -->
	<style name="TopMediumButton">
		<item name="layout_maxWidth">@dimen/TopMediumButton_size</item>
		<item name="layout_maxHeight">@dimen/TopMediumButton_size</item>
		<item name="android:layout_height">match_parent</item>
		<item name="android:layout_width">0dp</item><!-- Provide some width => important for scenes as without layout_width scene won't apply layout params -->
		<item name="layout_matchDimension">widthToHeight</item>
				
		<item name="android:layout_gravity">center_vertical</item>
		<item name="android:clickable">true</item>
		<item name="android:focusable">true</item>
		<item name="android:focusableInTouchMode">false</item>
		<item name="android:longClickable">true</item>
		<item name="animOnClick">true</item>
		<item name="android:gravity">fill</item><!-- Force drawable to fill dimensions -->
		<item name="drawableOnly">true</item>
		<item name="deripple">true</item><!-- Remove duplicated RippleDrawables for broken skins -->
	</style>

	<!-- NOTE: button size is defined by the prev/next cat drawable size, even for 10s jump mode -->
	<style name="TopPrevCat" parent="TopSmallButton">
		<item name="layout_attachRight">@+id/rw</item>
		<item name="android:drawable">?main_prev_cat</item>
		<item name="morphDrawable">?main_back_10s</item><!-- For morphed 10s jump button state -->
		<item name="android:layout_marginRight">2dp</item>
		<item name="android:longClickable">true</item><!-- Need to support long clicks -->

		<item name="android:id">@+id/prev_cat</item>
		<item name="busId">@id/bus_player_cmd</item>

		<item name="msgId">@id/cmd_player_play_prev_category</item>
		<item name="longPressMsgId">@id/cmd_player_play_first_category</item>

		<item name="disableForStateBusId">@id/bus_player</item>
		<item name="disableForStateId">@id/state_player_category_not_navigable</item>
		<item name="disableForStateMsgId">@id/msg_player_track_changed</item>
		<item name="android:contentDescription">@string/h_prev_list</item>

		<item name="morphWhenState">@id/state_player_long_seek</item>
		<item name="morphMsgId">@id/cmd_player_seek_jump</item>
		<item name="morphArg1">0</item>
		<item name="morphArg2">2</item>
		<item name="morphLongPressMsgId">@id/cmd_player_begin_seek_jumps</item>
		<item name="morphLongPressEndMsgId">@id/cmd_player_end_seek_jumps</item>
		<item name="morphContentDescription">@string/back_10s</item>
		<item name="morphCrossfade">false</item><!-- Avoid crossfade to avoid alpha modulation for the non-transparent background circle -->
	</style>
	
	<style name="TopRw" parent="TopMediumButton">
		<item name="layout_attachRight">@+id/play</item>
		<item name="android:drawable">?main_rw</item>
		<item name="android:layout_marginRight">2dp</item>

		<item name="android:id">@+id/rw</item>
		<item name="busId">@id/bus_player_cmd</item>
		<item name="msgId">@id/cmd_player_play_prev_track</item>
		<item name="longPressMsgId">@id/cmd_player_begin_seek_jumps</item>
		<item name="longPressEndMsgId">@id/cmd_player_end_seek_jumps</item>
		<item name="arg1">0</item><!-- arg1="0" - rewind -->
		<item name="android:contentDescription">@string/previous_track</item>
	</style>
	<style name="TopRw_scene_playing" parent="TopMediumButton">
		<item name="layout_attachRight">@+id/pause</item>
		<item name="android:layout_marginRight">2dp</item>
	</style>
	
	<style name="TopFf" parent="TopMediumButton">
		<item name="layout_attachLeft">@+id/play</item>
		<item name="android:drawable">?main_ff</item>
		<item name="android:layout_marginLeft">2dp</item>

		<item name="android:id">@+id/ff</item>
		<item name="busId">@id/bus_player_cmd</item>
		<item name="msgId">@id/cmd_player_play_next_track</item>
		<item name="longPressMsgId">@id/cmd_player_begin_seek_jumps</item>
		<item name="longPressEndMsgId">@id/cmd_player_end_seek_jumps</item>
		<item name="arg1">1</item>
		<item name="android:contentDescription">@string/next_track</item>
	</style>
	<style name="TopFf_scene_playing" parent="TopMediumButton">
		<item name="layout_attachLeft">@+id/pause</item>
		<item name="android:layout_marginLeft">2dp</item>
	</style>
		
	<style name="TopNextCat" parent="TopSmallButton">
		<item name="layout_attachLeft">@+id/ff</item>
		<item name="android:drawable">?main_next_cat</item>
		<item name="morphDrawable">?main_forward_10s</item><!-- For morphed 10s jump button state -->
		<item name="android:layout_marginLeft">2dp</item>
		<item name="android:longClickable">true</item><!-- Need to support long clicks -->

		<item name="android:id">@+id/next_cat</item>
		<item name="busId">@id/bus_player_cmd</item>
		<item name="msgId">@id/cmd_player_play_next_category</item>
		<item name="longPressMsgId">@id/cmd_player_play_last_category</item>

		<item name="disableForStateBusId">@id/bus_player</item>
		<item name="disableForStateId">@id/state_player_category_not_navigable</item>
		<item name="disableForStateMsgId">@id/msg_player_track_changed</item>

		<item name="morphWhenState">@id/state_player_long_seek</item>
		<item name="morphMsgId">@id/cmd_player_seek_jump</item>
		<item name="morphArg1">1</item>
		<item name="morphArg2">2</item>
		<item name="morphLongPressMsgId">@id/cmd_player_begin_seek_jumps</item>
		<item name="morphLongPressEndMsgId">@id/cmd_player_end_seek_jumps</item>
		<item name="morphCrossfade">false</item><!-- Avoid crossfade to avoid alpha modulation for the non-transparent background circle -->
		
		<item name="android:contentDescription">@string/h_next_list</item>
		<item name="morphContentDescription">@string/forward_10s</item>
	</style>

	<style name="TopPlayMoreButtons"></style><!-- Not used ATM -->

	<!-- Overridden for v31 -->
	<style name="TopPlayMoreButtons_scene_playing" parent="TopPlay_scene_playing">
	</style>


	<!-- NOTE: not doing zoom here, but change size from large TopPlay size to pause drawable native size -->  
	<style name="TopPauseMoreButtons" parent="TopPause">
		<item name="layout_maxWidth">@dimen/TopPlay_maxSize</item>
		<item name="layout_maxHeight">@dimen/TopPlay_maxSize</item>
		<item name="android:layout_height">match_parent</item>
		<item name="layout_matchDimension">widthToHeight</item>
		
		<item name="android:gravity">fill</item><!-- Force drawable to fill dimensions -->
		<item name="android:background">@null</item>
		<item name="android:drawable">?main_pro_pause</item>
		<item name="drawableTint">@null</item>
		<item name="drawableWidth">@null</item>
		<item name="drawableHeight">@null</item>
		<item name="android:visibility">invisible</item>
		<item name="android:scaleX">1</item>
		<item name="android:scaleY">1</item>
	</style>
	<style name="TopPauseMoreButtons_scene_playing">
		<item name="layout_maxWidth">@dimen/TopPauseMoreButtons_maxSize_scene_playing</item>
		<item name="layout_maxHeight">@dimen/TopPauseMoreButtons_maxSize_scene_playing</item>
		<item name="layout_matchDimension">widthToHeight</item>
		<item name="android:layout_width">0dp</item><!-- Needed so Scene detects this view has layout params -->
		<item name="android:layout_height">match_parent</item>
		<item name="android:layout_gravity">center</item>
		<item name="scale">1</item>		
		<item name="android:visibility">visible</item>
		<item name="jumpVisibility">true</item>
	</style>
		
	<style name="TopTrackElapsedMoreButtons" parent="TopTrackElapsed">
		<item name="layout_attachLeft">parent</item>
		<item name="layout_attachRight">@null</item>
		<item name="layout_attachBottomToBottom">@id/waveseek</item>
		<item name="android:layout_marginLeft">12dp</item>
		<item name="android:layout_marginBottom">@dimen/TopTrackElapsedMoreButtons_marginBottom</item>
		<item name="android:scaleX">@dimen/TopTrackElapsedDurationMoreButtons_scale</item>
		<item name="android:scaleY">@dimen/TopTrackElapsedDurationMoreButtons_scale</item>

		<item name="android:paddingLeft">8dp</item>
		<item name="android:paddingRight">8dp</item>
	</style>
	<style name="TopTrackElapsedMoreButtons_scene_playing" parent="TopTrackElapsed_scene_playing">
		<item name="layout_attachLeft">parent</item>
		<item name="layout_attachRight">@null</item>
		<item name="layout_attachBottomToBottom">@id/waveseek</item>
		<item name="android:layout_marginBottom">@dimen/TopTrackElapsedMoreButtons_marginBottom</item>
		<item name="android:layout_marginLeft">12dp</item>
		<item name="scale">1</item>

		<item name="android:paddingLeft">8dp</item>
		<item name="android:paddingRight">8dp</item>
	</style>
		
	<style name="TopTrackDurationMoreButtons" parent="TopTrackDuration">
		<item name="layout_attachRight">parent</item>
		<item name="layout_attachLeft">@null</item>
		<item name="layout_attachBottomToBottom">@id/waveseek</item>
		<item name="android:layout_marginBottom">@dimen/TopTrackElapsedMoreButtons_marginBottom</item>
		<item name="android:layout_marginRight">12dp</item>
		<item name="android:scaleX">@dimen/TopTrackElapsedDurationMoreButtons_scale</item>
		<item name="android:scaleY">@dimen/TopTrackElapsedDurationMoreButtons_scale</item>
	</style>
	<style name="TopTrackDurationMoreButtons_scene_playing" parent="TopTrackDuration_scene_playing">
		<item name="layout_attachRight">parent</item>
		<item name="layout_attachLeft">@null</item>
		<item name="layout_attachBottomToBottom">@id/waveseek</item>
		<item name="android:layout_marginBottom">@dimen/TopTrackElapsedMoreButtons_marginBottom</item>
		<item name="android:layout_marginRight">12dp</item>
		<item name="scale">1</item>
	</style>		
	
					
	<style name="TopSubAAButtons">
		<item name="android:id">@+id/sub_aa_buttons</item>
		<item name="privateScene">true</item>
		<item name="android:layout_width">match_parent</item>		
		<item name="android:layout_height">wrap_content</item>
		<item name="layout_attachTop">@+id/aa_bounds</item>
		<item name="android:layout_marginTop">@dimen/TopSubAAButtons_marginTop</item><!-- 0dp for shorter screens, 8dp for long screens -->
		<item name="android:layout_marginLeft">8dp</item>
		<item name="android:layout_marginRight">8dp</item>
		<item name="android:visibility">visible</item>
	</style>
	<style name="TopSubAAButtons_scenes_playing">
		<item name="android:visibility">visible</item>
	</style>
	<style name="TopSubAAButtons_scene_lib">
		<item name="scale">0.75</item>		
		<item name="android:visibility">invisible</item> 
	</style>
	<style name="TopSubAAButtons_scenes_hidden">
		<item name="scale">0.75</item>
		<item name="android:visibility">gone</item>
	</style>

	<style name="TopListScrollerViewBase">
		<item name="android:id">@id/list_scroller</item>
		<!-- NOTE: not using android scrollbars for main list, avoiding extra android scrollbars processing -->
		<!-- <item name="android:scrollbars">vertical|horizontal</item> -->
		<item name="android:track">@drawable/fast_scroller_track</item>
		<item name="android:thumb">@drawable/fast_scroller_thumb</item>
		<item name="transformPivotX_percent">100%</item>
		<item name="android:paddingRight">0dp</item>
		<item name="android:paddingLeft">14dp</item>
		<item name="android:layout_marginTop">?TopListScrollerView_marginTop</item><!-- Changed by OptionLocalizedAZScroll -->
		<item name="android:layout_marginBottom">?TopListScrollerView_marginBottom</item><!-- Changed by OptionLocalizedAZScroll -->
		<item name="android:layout_width">wrap_content</item>
		<item name="android:layout_height">0dp</item>
		<item name="layout_attachRight">parent</item>
		<item name="layout_attachTop">parent</item>
		<item name="layout_attachBottom">parent</item>
		<item name="azBackground">@drawable/az_bg</item>
		<item name="azTouchedBackground">?colorFastScrollerPressed</item><!-- #444 -->
		<item name="azPaddingTop">0dp</item>
		<item name="azPaddingBottom">0dp</item>
		<item name="azSeparatorLineColor">?colorAZSeparator</item>
		<item name="azPaddingLeft">8dp</item>
		<item name="azSize">100%</item>
		<item name="azTextScale">?TopListScrollerView_azTextScale</item>
		<item name="azScrollUp">@drawable/scroll_up</item>
		<item name="android:focusable">false</item><!-- Disable, as focusing it makes little sense -->
		<item name="android:textAppearance">?TopListScrollerView_Text</item>
		<item name="android:textColor">@color/az_text_color_selector</item>
	</style>
	<style name="TopListScrollerView_Text" parent="TextAppearance.AppCompat">
		<!-- NOTE: ListScrollerView automatically sets text size -->
	</style>
	<style name="TopListScrollerView" parent="TopListScrollerViewBase">
	</style>
	<style name="TopListScrollerView_state_scrollbar_pressed">
		<item name="android:scaleX">1.5</item>
	</style>
	
	<style name="TopEqLayoutBase" tools:ignore="NewApi">
		<item name="android:layout_width">match_parent</item>
		<item name="android:layout_height">0px</item>
		<item name="layout_attachTop">@+id/status_bar_bg</item>
		<item name="layout_attachBottom">inset</item>
		<item name="layout_marginBottomRef">@id/navbar_bounds_2lines_size</item>
		<item name="android:visibility">gone</item>
		<item name="android:clipChildren">false</item>
		<item name="android:forceHasOverlappingRendering">@bool/v28_forceHasOverlappingRendering</item><!-- Avoid "leaking" shadow during alpha animation on Android 9 -->
	</style>
	<style name="TopEqLayout" parent="TopEqLayoutBase">
	</style>

	<style name="TopActionModeBarBase">
		<item name="android:layout_marginTop">@dimen/TopActionModeBar_marginTop</item><!-- Increased for longer screens -->
		<item name="android:layout_marginLeft">8dp</item>
		<item name="android:layout_marginRight">8dp</item>
		<item name="android:layout_marginBottom">@dimen/TopActionModeBar_marginBottom</item><!-- Increased for longer screens -->
		<item name="android:elevation">?bar_elevation</item>
		<item name="android:background">@drawable/navbar_bg</item>
		<item name="android:padding">2dp</item>
		
	</style>
	<style name="TopActionModeBar" parent="TopActionModeBarBase">
		<item name="android:layout_width">match_parent</item>
		<item name="android:layout_height">@dimen/Navbar_height</item>
		<item name="layout_consumeSpace">vertical</item>
	</style>
	
		
	<!-- Equ -->
	
	<style name="TopActionModeBarButton" parent="NavBarButton">
		<item name="layout_widthPercent">33.33%</item>
	</style>
	
	<!-- Search -->
	
	<style name="TopSearchLayout">
		<item name="layout_attachTop">@+id/status_bar_bg</item>
		<item name="layout_attachLeft">inset</item>
		<item name="layout_attachRight">inset</item>
		<item name="android:layout_width">match_parent</item>
		<item name="android:layout_height">match_parent</item>
		<item name="android:clipChildren">false</item>
		<item name="android:visibility">gone</item>
	</style>
	
	<style name="TopSearchPanel">
		<item name="android:layout_width">match_parent</item>
		<item name="android:layout_height">48dp</item>
		<item name="layout_consumeSpace">vertical</item>
		<item name="android:layout_marginTop">8dp</item>
		<item name="android:layout_marginLeft">8dp</item>
		<item name="android:layout_marginRight">8dp</item>
		<item name="android:background">@drawable/searchbar_bg</item>
	</style>

	<style name="TopSearchCloseButton">
		<item name="android:drawable">@drawable/close_stroke</item>
		<item name="drawableTint">?colorIconPrimary</item>
		<item name="android:layout_width">wrap_content</item>
		<item name="android:layout_height">wrap_content</item>
		<item name="android:layout_marginRight">16dp</item>
		<item name="layout_attachRight">parent</item>
		<item name="android:clickable">true</item>
		<item name="android:focusable">true</item>
		<item name="android:focusableInTouchMode">false</item>
		<item name="animOnClick">true</item>
		<item name="android:background">@drawable/ripple_rounded_mini</item>
		<item name="layout_consumeSpace">horizontal</item>
		<item name="android:layout_gravity">center_vertical</item>
		<item name="drawableOnly">true</item>
		<item name="android:gravity">center</item>
	</style>
	
	<style name="TopListSearchEditText" parent="@style/Widget.AppCompat.EditText">
		<!-- NOTE: uses android:textAppearanceMediumInverse => TextAppearance.AppCompat.Medium.Inverse -->
		<item name="android:layout_width">match_parent</item>
		<item name="android:layout_height">wrap_content</item>
		<item name="android:padding">12dp</item>
		
		<item name="android:background">@null</item>
		<!-- NOTE: tint here is not supported until 6.0, thus, using separate tinted drawable -->
		<item name="android:drawableLeft">@drawable/search_tinted</item>
		<!-- <item name="android:drawableTint">?colorIconPrimary</item> -->
		<!-- <item name="drawableTint">?colorIconPrimary</item> -->
		<item name="android:textColor">?android:textColorPrimary</item>
		<item name="android:textColorHint">?android:textColorTertiary</item>
		<item name="drawableWidth">24dp</item>
		<item name="drawableHeight">24dp</item>
		<item name="android:drawablePadding">8dp</item>
		<item name="android:gravity">center_vertical</item>
		<item name="android:singleLine">true</item>
		<item name="android:includeFontPadding">false</item>
		<item name="android:imeOptions">flagNoExtractUi</item>
	</style>

	<style name="TopSearchCatsLayout">
		<item name="android:layout_width">wrap_content</item>
		<item name="android:layout_height">wrap_content</item>
		<item name="android:paddingTop">8dp</item>
		<item name="android:paddingLeft">8dp</item>
		<item name="android:paddingRight">12dp</item>
		<!-- Applying clip here as it's not looking well if we go beyond list dimension for top search -->
		<item name="android:clipToPadding">true</item>
		<item name="layout_consumeSpace">vertical|reset_horizontal</item>
		<item name="catButtonStyle">?TopSearchCatButton</item>
	</style>
	<style name="TopSearchCatButton">
		<item name="android:layout_width">wrap_content</item>
		<item name="android:layout_height">wrap_content</item>
		<item name="layout_consumeSpace">horizontal</item>
		<item name="layout_unlimitedMeasure">true</item>
		<item name="android:layout_marginLeft">4dp</item>
		<item name="android:paddingLeft">12dp</item>
		<item name="android:paddingRight">12dp</item>
		<item name="android:paddingTop">5dp</item>
		<item name="android:paddingBottom">5dp</item>
		<item name="drawablePaddingStart">10dp</item>
		<item name="android:drawablePadding">-11dp</item>
		<item name="drawableTint">@color/button_primary_text_color_selector</item>

		<item name="android:maxLines">1</item>
		<item name="android:background">@drawable/checkable_non_tr_rounded_large</item>
		<item name="animOnClick">true</item>
		<item name="android:clickable">true</item>
		<item name="android:longClickable">true</item>
		<item name="android:focusable">true</item>
		<item name="android:focusableInTouchMode">false</item>
		<item name="android:textAppearance">?TopSearchTarget_Text</item>
		<item name="android:textColor">@color/button_text_color_selector</item>
	</style>
	
	<style name="TopSearchTarget">
		<item name="android:layout_width">wrap_content</item>
		<item name="android:layout_height">wrap_content</item>
		<item name="layout_consumeSpace">vertical</item>
		<item name="android:layout_marginTop">6dp</item>
		<item name="android:layout_marginLeft">8dp</item>
		<item name="android:layout_marginRight">8dp</item>
						
		<item name="animOnClick">true</item>
		<item name="android:clickable">true</item>
		<item name="android:focusable">true</item>
		<item name="android:focusableInTouchMode">false</item>
		<item name="android:paddingLeft">12dp</item>
		<item name="android:paddingRight">12dp</item>
		<item name="android:paddingTop">6dp</item>
		<item name="android:paddingBottom">6dp</item>
		<item name="drawablePaddingStart">8dp</item>
		<item name="android:drawablePadding">0dp</item>
		<item name="drawablePosition">right</item>
		<item name="drawableWidth">16dp</item>
		<item name="drawableHeight">16dp</item>
		<item name="drawableTint">?colorIconPrimary</item>
		<item name="android:drawable">?clear</item>
				
		<item name="android:maxLines">1</item>
		<item name="android:ellipsize">end</item>
		<item name="layout_goneWhenEmpty">true</item><!-- Ensure we're "hidden" when no text, so we don't hang over shuffle button -->
		<item name="ignoreDrawableForEmpty">true</item>

		<item name="android:background">@drawable/ripple_bg_light_rounded_large</item>
		<item name="android:disabledAlpha">0</item>
		
		<item name="android:textAppearance">?TopSearchTarget_Text</item>
		<item name="android:visibility">gone</item>
	</style>
	<style name="TopSearchTarget_Text" parent="TextAppearance.AppCompat">
		<item name="android:textSize">13dp</item>
		<item name="android:textStyle">bold</item>
	</style>
	
	<style name="TopNavbarContainer">
		<item name="android:layout_width">match_parent</item>
		<item name="android:layout_height">match_parent</item>
	</style>
	
	<!-- IMPORTANT: specifically can't use layout_margin* here, but extending the size due to issue with navbar shadow cut on some devices
		 (looks like Android fails to properly handle clipping for some view combinations).
		 
		 NOTE: InvisibleView may set its content size for wrap_content as minWidth + paddingLeft + paddingRight and minHeight + paddingTop + paddingBottom.
		 This enables InvisibleView to adjust its size based on multiple values instead of just single dimension
	-->
	<style name="TopNavbarBounds">
		<item name="android:id">@id/navbar_bounds</item>
		<item name="android:layout_width">match_parent</item>
		<item name="layout_heightRef">@id/navbar_bounds_size</item>
		<!-- No padding top as we just indicate navbar top bound, no need for extra space there -->
		<item name="layout_attachBottom">inset</item>
	</style>
			
	<!-- NOTE: top scene layout generally requires some non zero layout now before scene runs, thus it can't be wrap_content in this case (==0px for default scene) -->
	<style name="TopSelectionMenuContainer">
		<item name="android:layout_width">match_parent</item>
		<item name="layout_attachLeft">inset</item>
		<item name="layout_attachRight">inset</item>

		<!-- Height should be enough for 2 row selection menu
		     NOTE: this is not height of the selection menu, but the height of the parent (invisible) container -->
		<item name="android:layout_height">@dimen/TopSelectionMenuContainer_height</item>
		<item name="layout_attachBottom">parent</item><!-- Attaching to bottom, not to inset, thus we allow animation behind the navbar -->
		<item name="android:translationZ">?modal_translationZ</item>
		<item name="android:outlineProvider">none</item>
	</style>
	
	<style name="TopListIndexerPopupView">
		<item name="android:id">@id/list_indexer</item>
		<item name="android:layout_width">100dp</item>
		<item name="android:layout_height">100dp</item>
		<item name="android:background">@drawable/scroll_popup_bg</item>
		<item name="android:visibility">invisible</item>
		<item name="android:alpha">0</item>
		<item name="android:scaleX">0.90</item>
		<item name="android:scaleY">0.90</item>
		<item name="layout_attachTop">parent</item>
		<item name="layout_attachRight">@+id/list_scroller</item>
		<item name="android:layout_marginRight">8dp</item>
		<item name="android:layout_marginTop">-16dp</item>
		<item name="android:gravity">center</item>
		<item name="indexerPopupMode">moveWithThumb</item>
		<item name="thumbModeOffsetX">0dp</item>
		<item name="android:translationZ">?modal_translationZ</item>
		<item name="android:outlineProvider">none</item>
		<item name="android:textAppearance">?TopListIndexerPopupView_Text</item>
		<item name="android:textColor">?colorAZPressed</item>
	</style>
	<style name="TopListIndexerPopupView_Text" parent="TextAppearance.AppCompat">
		<item name="android:textSize">80dp</item>
	</style>
	<style name="TopListIndexerPopupView_state_scrollbar_pressed">
		<item name="android:alpha">1</item>
		<item name="android:scaleX">1</item>
		<item name="android:scaleY">1</item>
		<item name="android:duration">250</item>
	</style>
	
	<style name="TopMenuPlaceholderLayout">
		<item name="privateScene">true</item>
		<item name="android:layout_width">match_parent</item>
		<item name="android:layout_height">match_parent</item>
		<item name="android:translationZ">?modal_translationZ</item>
		<item name="android:outlineProvider">none</item>
		<item name="shadeColor">?colorShade</item>
	</style>
	
	<!-- NOTE: automatically hidden if user hides status bar via settings -->
	<style name="TopFitsStatusBarView">
		<item name="android:id">@id/status_bar_bg</item>
		<item name="android:layout_width">match_parent</item>
		<item name="android:layout_height">0px</item>
		<item name="android:background">?statusBarBg</item>
		<!-- NOTE: keep >= TopMenuPlaceholderLayout. Status bar view is located below TopMenuPlaceholderLayout in XML order, so it's on top for same Z -->
		<item name="android:translationZ">?modal_translationZ</item>
		<item name="android:outlineProvider">none</item>
	</style>
	
	<style name="TopFitsStatusBarView_scenes_non_main"></style><!-- NOTE: nothing changes for default skins -->
	
	<!-- Overridden in values-sw2dp-land -->
	<style name="TopFitsNavigationBarView">
		<item name="android:id">@id/navigation_bar_bg</item>
		<item name="android:layout_width">match_parent</item>
		<item name="android:layout_height">0px</item>
		<item name="android:layout_gravity">bottom</item>
		<item name="android:background">?navigationBarBg</item>
		<item name="android:outlineProvider">none</item>
		<item name="android:elevation">0px</item>
	</style>
	<style name="TopFitsNavigationBarView_scenes_non_main"></style><!-- NOTE: nothing changes for default skins -->

	<!-- NOTE: old TopAABounds style used for compatibility with old skins. Not used anymore -->
	<!-- @Deprecated -->
	<style name="TopAABounds">
		<item name="android:id">@+id/aa_bounds</item>
		<item name="layout_widthPercent">100%</item><!-- NOTE: sync with legacy ListSubstyle -->
		<item name="layout_heightPercent">100%</item><!-- NOTE: sync with legacy ListSubstyle -->
		<!-- NOTE: AA LE uses width in portait orientation as base size for AA, and height as base size in landscape orientation.
			 More strictly, AA LE uses the smallest screen dimension for AA size, thus layout_matchDimension here should be orientation dependent -->
		<item name="layout_matchDimension">heightToWidth</item>
		<item name="layout_attachTop">inset</item>
		<!-- DEBUG -->
		<!--<item name="android:background">#5f0f</item>-->
	</style>
	
	<!-- NOTE: new AABounds style, now derived from ListSubstyle2 and uses the same AA layout logic -->
	<!-- NOTE: overridden in values-sw1dp-land for landscape -->	
	<style name="TopAABounds2" parent="ListSubstyle2">
		<item name="android:id">@+id/aa_bounds</item>
		<item name="matchAASubstyle">true</item>
		
		<item name="android:layout_width">wrap_content</item>
		<item name="android:layout_height">wrap_content</item>
		<item name="android:layout_gravity">center_horizontal</item>
		<item name="offsetWindowInsets">statusBar|navigationBar</item><!-- Sync with TopListWidget -->
		
		<!-- NOTE: needed, as by default, any margins applied to AABounds will "consume" available space for AA layout, thus, shrinking AABounds and making it
		     smaller comparing to the actual list AA. This attribute forces FastLayout to ignore margins in size calculations -->
		<item name="layout_wrapIgnoresMargins">true</item>
	</style>
	
	
	<!-- Centered -->
	
	<style name="TopBaseButtonLayout">
		<item name="android:layout_width">@dimen/TopBaseButtonLayout_width</item>
		<item name="android:layout_height">@dimen/TopBaseButtonLayout_height</item>
				
		<item name="menuPlaceholder">@+id/menu_placeholder</item>
		<item name="android:background">@drawable/alpha_popup_button_layout_bg</item>
		<item name="android:clickable">true</item>
		<item name="android:focusable">true</item>
		<item name="android:focusableInTouchMode">false</item>
		<item name="android:longClickable">true</item>
		<item name="android:hapticFeedbackEnabled">true</item>
		
		<item name="listItemSize">48dp</item><!-- NOTE: we usually override this for real lists (e.g. presets), so this is not used ATM -->
		
		<item name="buttonStyle">?PopupButton</item>
		<item name="menuButtonStyle">?PopupButton_scene_button_menu</item>
		
		<item name="popupListStyle">@style/PopupListLayoutList</item>

		<item name="separatorSize">32dp</item><!-- Used for list separators, if any -->
	</style>
	
	
	<style name="TopVisButtonLayout" parent="TopBaseButtonLayout">
		<item name="android:id">@id/vis_button_layout</item>
		<item name="layout_attachLeft">parent</item>
		<item name="android:layout_marginRight">4dp</item>

		<item name="stateBusId">@id/bus_gui</item>
		<item name="stateId">@id/state_gui_vis_mode</item>
		<item name="msgId">@id/msg_gui_vis_mode_changed</item>
		<item name="arg2">1</item>
		<item name="buttonsLabels">@array/vis_modes</item>
		<item name="buttonsDrawables">@array/vis_icons_32dp</item>
		<item name="buttonsBusId">@id/bus_gui</item>
		<item name="buttonsMsgId">@id/cmd_gui_set_vis_mode</item>
		<item name="buttonsArg1">@array/vis_modes_enum</item>
		<item name="android:contentDescription">@string/visualization</item>
	</style>
	
	
	<style name="TopSleepTimerButtonLayout" parent="TopBaseButtonLayout">
		<item name="android:id">@id/sleep_timer_layout</item>
		<item name="android:background">@drawable/alpha_popup_button_layout_activated_bg</item>
		<item name="layout_attachLeft">@+id/vis_button_layout</item>
		<item name="android:layout_marginRight">4dp</item>
		<item name="closeOnClickInside">false</item>
		<item name="menuItemsLayout">@layout/merge_sleep_timer_popup_layout</item>
		<item name="android:contentDescription">@string/sleep_timer</item>
	</style>
	<style name="TopSleepTimerButtonLayout_scene_item_menu" parent="ItemPopupMenu_scene_item_menu">
		<item name="android:layout_width">match_parent</item>
		<item name="layout_maxWidth">@dimen/TopSleepTimerButtonLayout_scene_item_menu_width</item>
		<item name="android:layout_marginLeft">16dp</item>
		<item name="android:layout_marginRight">16dp</item>
	</style>
	
	<style name="TopSleepTimerButton" parent="PopupButtonNoTint">
		<item name="android:id">@id/sleep_timer_button</item>
		<item name="android:drawable">?sleep_timer_32dp</item><!-- NOTE: tint is applied via drawable xml -->
		<item name="drawableOnly">true</item>
		<item name="drawablePosition">forceGravity</item>
		<item name="android:gravity">center</item>
		<item name="drawablePaddingStart">0dp</item>
		<item name="android:paddingLeft">0dp</item>
		<item name="android:paddingRight">0dp</item>
		<item name="android:visibility">visible</item>
	</style>
		
		
	<style name="TopShuffleButtonLayout" parent="TopBaseButtonLayout">
		<item name="android:id">@id/shuffle_button_layout</item>
		<item name="layout_attachRight">parent</item>
		<item name="android:layout_marginLeft">4dp</item>

		<item name="stateBusId">@id/bus_player</item>
		<item name="stateId">@id/state_player_shuffle_mode</item>
		<item name="msgId">@id/msg_player_shuffle_mode_changed</item>
		<item name="arg2">1</item>

		<item name="buttonsLabels">@array/shuffle_modes</item>
		<item name="buttonsDrawables">@array/shuffle_icons_32dp</item>
		<item name="buttonsBusId">@id/bus_player_cmd</item>
		<item name="buttonsMsgId">@id/cmd_player_set_shuffle_mode</item>
		<item name="buttonsArg1">@array/shuffle_modes_enum</item>
	</style>
		
	<style name="TopRepeatButtonLayout" parent="TopBaseButtonLayout">
		<item name="android:id">@id/repeat_button_layout</item>
		<item name="layout_attachRight">@+id/shuffle_button_layout</item>
		<item name="android:layout_marginLeft">4dp</item>

		<item name="stateBusId">@id/bus_player</item>
		<item name="stateId">@id/state_player_repeat_mode</item>
		<item name="msgId">@id/msg_player_repeat_mode_changed</item>
		<item name="arg2">1</item>

		<item name="buttonsLabels">@array/repeat_modes</item>
		<item name="buttonsDrawables">@array/repeat_icons_32dp</item>
		<item name="buttonsBusId">@id/bus_player_cmd</item>
		<item name="buttonsMsgId">@id/cmd_player_set_repeat_mode</item>
		<item name="buttonsArg1">@array/repeat_modes_enum</item>
	</style>
	
	<!-- NOTE: as top counter now uses TopCounterLayout style, TopCounterLayout is just derived from TopCounter style, which still exists for compatibility -->
	<style name="TopCounter">
		<item name="android:paddingLeft">8dp</item>
		<item name="android:paddingRight">8dp</item>
		<item name="android:paddingTop">@dimen/TopMetaInfoLabel_paddingTopBottom</item>
		<item name="android:paddingBottom">@dimen/TopMetaInfoLabel_paddingTopBottom</item>
		<item name="android:lineSpacingExtra">1.75dp</item>
		<item name="android:maxLines">2</item>
		<item name="android:ellipsize">end</item>
		<item name="drawableTint">?colorIconPrimary</item>
		<item name="android:gravity">center</item>
		<item name="android:textAppearance">?TopCounterLayout_Text</item>
		<item name="android:textColor">?android:textColorPrimary</item>
	</style>
	<style name="TopCounterLayout" parent="TopCounter">
		<item name="android:layout_width">wrap_content</item>
		<item name="android:layout_height">wrap_content</item>
		<item name="android:clipChildren">true</item>
		<item name="android:scaleX">0.95</item>
		<item name="android:scaleY">0.95</item>
		<!-- NOTE: do not use layout_compensateScale as this is centered view with the centered scale pivot -->
		<item name="android:alpha">0.75</item>
		<item name="layout_gravityTarget">@id/sub_aa_buttons</item>
		<item name="android:layout_gravity">center</item>
		<item name="lineBackground">@drawable/alpha_rounded_medium</item>
	</style>
	<style name="TopCounterLayout_Text" parent="TextAppearance.AppCompat">
		<item name="android:textSize">@dimen/TopMetaInfoLabel_textSize</item>
		<item name="android:textAllCaps">true</item>
	</style>
	<style name="TopCounterLayout_scenes_playing">
		<item name="android:visibility">visible</item>
		<item name="scale">1</item>
		<item name="android:alpha">1</item>
		<item name="layout_compensateScale">1</item>
	</style>
	<style name="TopCounterLayout_scenes_invisible">
		<item name="scale">0.75</item>
		<item name="android:visibility">gone</item>
	</style>
	<style name="TopCounterLayout_anim_seeking">
		<item name="android:alpha">0.55</item>
		<item name="android:scaleX">0.85</item>
		<item name="android:scaleY">0.85</item>
	</style>
	
	
	<!-- NOTE: see also default-styles-plainseekbar.xml -->
	<style name="TopMetaInfoLayout">
		<item name="android:id">@+id/meta_info_layout</item>
		<item name="android:layout_width">match_parent</item>
		<item name="android:layout_height">wrap_content</item>
		<item name="layout_attachBottom">@id/navbar_bounds</item>
		<!-- Need some min height, as when we expand meta to popup, the container becomes empty and collapses to the bottom, causing popup animating to too low position.
		     Happens e.g. when Play => Pause happens during popup -->
		<item name="android:minHeight">20dp</item>
		<item name="android:layout_marginBottom">@dimen/TopMetaInfoLayout_marginBottom</item><!-- 8dp -->
		<item name="android:clipChildren">false</item>
		<item name="android:scaleX">0.95</item>
		<item name="android:scaleY">0.95</item>
		<item name="android:alpha">0.75</item>
	</style>
	<style name="TopMetaInfoLayout_scenes_playing"><!-- NOTE: also used for TopCounterLayout_scenes_playing -->
		<item name="android:visibility">visible</item>
		<item name="scale">1</item>
		<item name="android:alpha">1</item>
	</style>
	<style name="TopMetaInfoLayout_scenes_invisible">
		<item name="scale">0.75</item>
		<item name="android:visibility">gone</item>
	</style>
	<style name="TopMetaInfoLayout_anim_seeking">
		<item name="android:alpha">0.45</item>
		<item name="android:scaleX">0.85</item>
		<item name="android:scaleY">0.85</item>
	</style>


	<style name="TopMetaInfo"><!-- NOTE: this is a PopupLayout -->
		<item name="android:id">@+id/meta_info</item>
		<!-- NOTE: avoid paddings here as they propagate to popup -->
		<item name="menuPlaceholder">@+id/menu_placeholder</item>
		<item name="openOnClick">false</item>
		<item name="innerScrolling">true</item>
		<item name="android:layout_width">wrap_content</item>
		<item name="android:layout_height">wrap_content</item>
		<item name="android:clipChildren">false</item>
		<item name="android:clickable">true</item><!-- Force clickable, otherwise, while we're actually clickable here, some keyboard presses are mishandled -->
		<item name="android:focusable">true</item><!-- Clickability is managed automatically -->
		<item name="android:focusableInTouchMode">false</item>
		<item name="lineBackground">?meta_info_bg</item>
		<item name="android:layout_gravity">center_horizontal</item>
		<item name="android:longClickable">true</item><!-- NOTE: making it also clickable=true here will cause ripple drawable in popup to activate -->
		<item name="menuItemsLayout">@layout/merge_dsp_info_popup_layout</item>
		<item name="busId">@id/bus_player_cmd</item>
		<item name="msgId">@id/cmd_player_switch_track_meta</item>
		<item name="firstPressToast">@string/long_press_for_more_options</item>
	</style>
	<style name="TopMetaInfo_scene_item_menu" parent="ItemPopupMenu_scene_item_menu">
		<item name="android:layout_width">match_parent</item>
		<item name="layout_maxWidth">@dimen/TopMetaInfo_scene_item_menu_maxWidth</item>
		<item name="android:layout_marginLeft">16dp</item>
		<item name="android:layout_marginRight">16dp</item>
	</style>
	
	<style name="TopMetaInfoLabel">
		<item name="android:id">@id/_label</item>
		<item name="android:layout_width">wrap_content</item>
		<item name="android:layout_height">wrap_content</item>
		<item name="layout_maxWidth">300dp</item>
		<item name="android:paddingLeft">10dp</item>
		<item name="android:paddingRight">10dp</item>
		<item name="android:paddingTop">@dimen/TopMetaInfoLabel_paddingTopBottom</item><!-- 3dp -->
		<item name="android:paddingBottom">@dimen/TopMetaInfoLabel_paddingTopBottom</item>
		<item name="android:maxLines">1</item>
		<item name="android:ellipsize">end</item>
		<item name="drawableWidth">@dimen/TopMetaInfoLabel_drawableSize</item><!-- 12dp -->
		<item name="drawableHeight">@dimen/TopMetaInfoLabel_drawableSize</item>
		<item name="drawablePaddingStart">8dp</item>
		<!-- 8 dr -6 10 (no text) 10 => compensate -6dp to get 8dp padding to the right of drawable when no text -->
		<item name="drawablePaddingEndNoText">-6dp</item>
		<item name="android:drawablePadding">-6dp</item>
		<item name="drawableTint">?colorIconPrimary</item>
		<item name="android:gravity">center_vertical</item>
		<item name="android:textAppearance">?TopMetaInfoLabel_Text</item>
		<item name="android:textColor">?colorMetaInfo</item>
		<item name="stateBusId">@id/bus_player</item>
		<item name="labelStateId">@id/state_player_track_meta</item>
		<item name="iconStateId">@id/state_player_track_meta_icon</item>
		<item name="updateMsgId">@id/msg_player_track_changed</item>
		<item name="updateMsgId_2">@id/msg_pipeline_started</item>
		<item name="updateMsgId_3">@id/msg_player_track_meta_switched</item>
		<item name="updateMsgId_4">@id/msg_player_repeat_mode_changed</item>
		<item name="updateMsgId_5">@id/msg_player_output_meta_changed</item>
		<item name="noUpdateInScene">@id/scene_button_menu</item>

	</style>
	<style name="TopMetaInfoLabel_Text" parent="TextAppearance.AppCompat">
		<item name="android:textSize">@dimen/TopMetaInfoLabel_textSize</item>
		<item name="android:textAllCaps">true</item>
	</style>
	
	<!-- NOTE: TopHelp* styles are used directly in layouts and not meant for overriding, but still colors, backgrounds, textAppearance are overridable -->
	<style name="TopHelpLayout">
		<item name="android:layout_width">match_parent</item>
		<item name="android:layout_height">match_parent</item>
		<item name="android:clipChildren">false</item>
		<item name="android:clipToPadding">false</item>
	</style>
		
	<style name="TopHelp">
		<item name="android:layout_width">wrap_content</item>
		<item name="android:layout_height">wrap_content</item>
		<item name="layout_maxWidth">250dp</item>
		<item name="android:gravity">center</item>
		<item name="android:layout_marginTop">@dimen/TopHelpMarginTB</item>
		<item name="android:layout_marginBottom">@dimen/TopHelpMarginTB</item>
		<item name="android:layout_marginLeft">16dp</item>
		<item name="android:layout_marginRight">16dp</item>
		
		<item name="android:elevation">3dp</item>
		
		<item name="android:paddingTop">6dp</item>
		<item name="android:paddingBottom">6dp</item>
		<item name="android:paddingLeft">16dp</item>
		<item name="android:paddingRight">16dp</item>
		
		<item name="android:background">@drawable/help_bg</item>
		
		<item name="arrowWidth">10dp</item>
		<item name="arrowHeight">8dp</item>
		<item name="arrowOffset">1dp</item>
		<item name="arrowStrokeWidth" tools:ignore="PxUsage">2px</item>
		<item name="arrowLineWeight">4dp</item>
		<item name="arrowStrokeColor">?colorStrokeHelp</item>
		<item name="arrowFillColor">?colorBgHelp</item>
		<item name="drawableTint">?colorIconPrimary</item>
		
		<item name="android:scaleX">1.25</item>
		<item name="android:scaleY">1.25</item>
		<item name="android:alpha">0</item>
		
		<item name="android:textAppearance">?TopHelp_Text</item>
		<item name="android:textColor">?android:textColorPrimary</item>
	</style>
	<style name="TopHelp_Text" parent="TextAppearance.AppCompat">
		<item name="android:textSize">13sp</item>
	</style>
	<!-- Used for text preferable with the "normal" font style for larger block of text -->
	<style name="TopHelpNormal" parent="TopHelp">
		<item name="android:textAppearance">?TopHelpNormal_Text</item>
	</style>
	<style name="TopHelpNormal_Text" parent="TextAppearance.AppCompat">
		<item name="android:textSize">13sp</item>
	</style>
		
	<style name="TopHelp_anim_help_visible">
		<item name="android:scaleX">1</item>
		<item name="android:scaleY">1</item>
		<item name="android:alpha">1</item>
	</style>
		
	<style name="TopHelpSmaller" parent="TopHelp">
		<item name="android:paddingTop">@dimen/TopHelpSmaller_paddingTB</item>
		<item name="android:paddingBottom">@dimen/TopHelpSmaller_paddingTB</item>
		<item name="android:paddingLeft">@dimen/TopHelpSmaller_paddingLR</item>
		<item name="android:paddingRight">@dimen/TopHelpSmaller_paddingLR</item>
		<item name="android:layout_marginTop">@dimen/TopHelpSmaller_marginTB</item>
		<item name="android:layout_marginBottom">@dimen/TopHelpSmaller_marginTB</item>
		<item name="android:layout_marginLeft">8dp</item>
		<item name="android:layout_marginRight">8dp</item>
		<item name="arrowWidth">8dp</item>
		<item name="arrowHeight">6dp</item>
		<item name="arrowOffset">0.75dp</item>
		<item name="arrowStrokeWidth" tools:ignore="PxUsage">2px</item>
		<item name="arrowLineWeight">3dp</item>
		<item name="android:textAppearance">?TopHelpSmaller_Text</item>
	</style>
	<style name="TopHelpSmaller_Text" parent="TopHelp_Text">
		<item name="android:textSize">@dimen/TopHelpSmaller_textSize</item>
	</style>
		
	<style name="TopHelpWider" parent="TopHelp">
		<item name="layout_maxWidth">280dp</item>
	</style>
	
	<style name="TopHelpButton">
		<item name="android:layout_width">wrap_content</item>
		<item name="android:layout_height">wrap_content</item>
				
		<item name="android:layout_marginTop">8dp</item>
		<item name="android:layout_marginBottom">8dp</item>
		<item name="android:layout_marginLeft">4dp</item>
		<item name="android:layout_marginRight">4dp</item>
		<item name="android:layout_gravity">top</item>
		
		<item name="android:textAppearance">?TopHelpButton_Text</item>
		<item name="android:textColor">?android:textColorPrimary</item>
		
		<item name="drawableWidth">24dp</item>
		<item name="drawableHeight">24dp</item>
		<item name="drawableTint">?colorIconPrimary</item>
		<item name="android:background">@drawable/ripple_help_large</item>
		<item name="android:paddingLeft">16dp</item>
		<item name="drawablePaddingStart">8dp</item>
		<item name="android:drawablePadding">-12dp</item>
		<item name="android:paddingRight">16dp</item>
		<item name="android:paddingTop">6dp</item>
		<item name="android:paddingBottom">6dp</item>
		<item name="android:gravity">center_vertical</item>
		<item name="animOnClick">true</item>
		<item name="android:clickable">true</item>
		<item name="android:focusable">true</item>
		<item name="android:focusableInTouchMode">false</item>
		<item name="android:elevation">4dp</item>
		
		<item name="android:alpha">0</item>
		
		<!-- As we have 2 buttons, we need to apply h_position only to one axis - shift views just vertically. The other axis is calculated as usual by FastLayout -->
		<item name="help_oneAxis">true</item>
	</style>
	<style name="TopHelpButton_Text" parent="TextAppearance.AppCompat">
	</style>
	
	<!-- NOTE: overridden in values-sw1dp-land -->
	<style name="TopHelpButtonEq" parent="TopHelpButton">
		<item name="help_anchor">@id/action_mode_bar</item>
		<item name="help_position">bottom</item>
	</style>
	
	<style name="TopHelpButton_anim_help_visible">
		<item name="android:alpha">1</item>
	</style>
	
	<style name="TopHelpButtonVis" parent="TopHelpButton">
	</style>

</resources>